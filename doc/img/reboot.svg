<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="194px" preserveAspectRatio="none" style="width:407px;height:194px;background:#FFFFFF;" version="1.1" viewBox="0 0 407 194" width="407px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="143" x="128.75" y="29.4023">Exit Boot Loader</text><line style="stroke:#A80036;stroke-width:1.0;" x1="59" x2="59" y1="71.6875" y2="187.6191"/><line style="stroke:#A80036;stroke-width:1.0;" x1="260.5" x2="260.5" y1="71.6875" y2="187.6191"/><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="45" x="37" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="44" y="60.7344">Host</text><rect fill="#FEFECE" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="102" x="209.5" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="216.5" y="60.7344">Target(id=2)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="0" x2="400.5" y1="82.6875" y2="82.6875"/><polygon fill="#A80036" points="248.5,100.998,258.5,104.998,248.5,108.998,252.5,104.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="59.5" x2="254.5" y1="104.998" y2="104.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="132.5" y="100.2559">RESTART</text><polygon fill="#A80036" points="70.5,130.3086,60.5,134.3086,70.5,138.3086,66.5,134.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="64.5" x2="259.5" y1="134.3086" y2="134.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="114.5" y="129.5664">REPORT(BOOT)</text><path d="M205,147.3086 L205,172.3086 L315,172.3086 L315,157.3086 L305,147.3086 L205,147.3086 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M305,147.3086 L305,157.3086 L315,157.3086 L305,147.3086 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="211" y="164.877">target reboots</text><!--MD5=[676794b42bd04050ff184e958556f9e1]
@startuml
skinparam shadowing false
skinparam sequenceMessageAlign center
hide footbox
participant Host as H
participant "Target(id=2)" as T

title Discover Boot Load Targets

== Try ID 1 ==

H ->] : PING(id=1)
note over H: target w/id=1\nnot present
...no reply...

== Try ID 2 ==

H -> T : PING(id=2)
T -> H : REPORT (PONG)

newpage Load Program

H -> T : START (id=2,len=18)
note right: Start load of\n18 byte program
T -> H : REPORT (READY)

H -> T : DATA (8 bytes)
note right: first 8 bytes
T -> H : REPORT (READY)
H -> T : DATA (8 bytes)
note right: next 8 bytes
T -> H : REPORT (READY)
H -> T : DATA (2 bytes+6 pad bytes)
note right: final 2 bytes
T -> H : REPORT (END)

== Load was successful ==
H -> T : STOP(crc)
T -> H : REPORT(DONE,ok)

== Load has error ==
H -> T : STOP(crc)
T -> H : REPORT(DONE,error)

newpage Exit Boot Loader

H -> T : RESTART
T -> H : REPORT(BOOT)
note over T: target reboots

@enduml

PlantUML version 1.2021.10(Mon Aug 30 08:43:48 CDT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>